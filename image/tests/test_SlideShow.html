<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>Testing dojox/image/SlideShow</title>

	<!-- required: a default theme file -->
	<link rel="stylesheet" id="themeStyles" href="../../../dijit/themes/tundra/tundra.css">
	<link rel="stylesheet" href="../resources/image.css">

	<style>
		@import "../../../dijit/tests/css/dijitTests.css";
	</style>

</head>
<body class="tundra">
	<h1 class="testTitle">dojox/image/SlideShow</h1>

	<h2>from dojo/data/ItemFileReadStore</h2>

	This SlideShow should display five photos, and loop. It should also
	open a URL when the image is clicked.  The widget should also resize to
	fit the image.
	<div id="slideshow1" data-dojo-type="dojox/image/SlideShow"></div>

	<h2>from dojox/data/FlickrRestStore</h2>
	This SlideShow should display five photos, and not loop. It should also not
	open a URL when the image is clicked.  AutoLoading of images is also disabled.
	The time between images in a SlideShow is 1 second.  The widget should not resize to fit the image
	<div id="slideshow2" data-dojo-type="dojox/image/SlideShow" data-dojo-props="noLink: true, loop: false, autoLoad: false, slideshowInterval: 1, fixedHeight: true"></div>

	<!-- required: dojo.js -->
	<script src="../../../dojo/dojo.js" data-dojo-config="isDebug:1, async:1"></script>

	<!-- do not use! only for testing dynamic themes -->
	<script src="../../../dijit/tests/_testCommon.js"></script>

	<script>
		require([
			"dojo/parser",
			"dojo/data/ItemFileReadStore",
			"dijit/registry",
			"dojox/data/FlickrRestStore",
			"dojox/image/SlideShow",
			"dojo/domReady!"
		], function(
			parser,
			ItemFileReadStore,
			registry,
			FlickrRestStore,
			SlideShow
		){
			parser.parse();
			var imageItemStore = new ItemFileReadStore({url:"images.json"});

			//Initialize the first SlideShow with an ItemFileReadStore

			registry.byId('slideshow1').setDataStore(imageItemStore,
				{
					query: {},
					count:20
				}, {
					imageThumbAttr: "thumb",
					imageLargeAttr: "large"
				}
			);

			//Initialize the second store with a FlickrRestStore
			var flickrRestStore = new FlickrRestStore();
			var req = {
				query: {
					userid: "44153025@N00",
					apikey: "8c6803164dbc395fb7131c9d54843627"
				},
				count: 20
			};
			registry.byId('slideshow2').setDataStore(flickrRestStore, req);
		});
	</script>
</body>
</html>
